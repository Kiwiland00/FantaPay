{"dependencies":[{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":23},"end":{"line":2,"column":49,"index":72}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":73},"end":{"line":3,"column":38,"index":111}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"FocusManager\",{enumerable:!0,get:function(){return n}}),Object.defineProperty(e,\"focusManager\",{enumerable:!0,get:function(){return o}});var s=r(d[0]),t=r(d[1]),n=class extends s.Subscribable{#e;#s;#t;constructor(){super(),this.#t=s=>{if(!t.isServer&&window.addEventListener){const t=()=>s();return window.addEventListener(\"visibilitychange\",t,!1),()=>{window.removeEventListener(\"visibilitychange\",t)}}}}onSubscribe(){this.#s||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#s?.(),this.#s=void 0)}setEventListener(s){this.#t=s,this.#s?.(),this.#s=s(s=>{\"boolean\"==typeof s?this.setFocused(s):this.onFocus()})}setFocused(s){this.#e!==s&&(this.#e=s,this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(t=>{t(s)})}isFocused(){return\"boolean\"==typeof this.#e?this.#e:\"hidden\"!==globalThis.document?.visibilityState}},o=new n});","lineCount":1,"map":[[1,90,64,0,"Object"],[1,97,64,0,"defineProperty"],[1,112,64,0,"e"],[1,114,64,0],[1,130,64,0,"enumerable"],[1,142,64,0],[1,144,64,0,"get"],[1,148,64,0],[1,166,65,2,"FocusManager"],[1,167,65,14],[1,171,64,0,"Object"],[1,178,64,0,"defineProperty"],[1,193,64,0,"e"],[1,195,64,0],[1,211,64,0,"enumerable"],[1,223,64,0],[1,225,64,0,"get"],[1,229,64,0],[1,247,66,2,"focusManager"],[1,248,66,14],[1,252,2,0],[1,256,2,0,"_subscribableJs"],[1,258,2,0,"r"],[1,260,2,0,"d"],[1,262,2,0],[1,266,3,0,"_utilsJs"],[1,268,3,0,"r"],[1,270,3,0,"d"],[1,272,3,0],[1,276,4,4,"FocusManager"],[1,278,4,19],[1,292,4,33,"Subscribable"],[1,294,4,45,"Subscribable"],[1,307,5,2,"focused"],[1,310,6,2,"cleanup"],[1,313,7,2,"setup"],[1,316,8,2,"constructor"],[1,330,9,4,"super"],[1,338,10,4,"this"],[1,344,10,9,"setup"],[1,346,10,19,"onFocus"],[1,350,11,6],[1,354,11,11,"isServer"],[1,356,11,19,"isServer"],[1,366,11,23,"window"],[1,373,11,30,"addEventListener"],[1,390,11,48],[1,391,12,8],[1,397,12,14,"listener"],[1,399,12,25,"listener"],[1,403,12,31,"onFocus"],[1,407,14,8],[1,414,13,8,"window"],[1,421,13,15,"addEventListener"],[1,438,13,32],[1,457,13,52,"listener"],[1,460,13,62],[1,463,14,15],[1,468,15,10,"window"],[1,475,15,17,"removeEventListener"],[1,495,15,37],[1,514,15,57,"listener"],[1,517,17,6],[1,519,20,2],[1,520,21,2,"onSubscribe"],[1,534,22,9,"this"],[1,540,22,14,"cleanup"],[1,543,23,6,"this"],[1,548,23,11,"setEventListener"],[1,565,23,28,"this"],[1,571,23,33,"setup"],[1,573,25,2],[1,574,26,2,"onUnsubscribe"],[1,590,27,9,"this"],[1,595,27,14,"hasListeners"],[1,612,28,6,"this"],[1,618,28,11,"cleanup"],[1,624,29,6,"this"],[1,630,29,11,"cleanup"],[1,637,29,19,"undefined"],[1,639,31,2],[1,640,32,2,"setEventListener"],[1,657,32,19,"setup"],[1,660,33,4,"this"],[1,666,33,9,"setup"],[1,668,33,18,"setup"],[1,670,34,4,"this"],[1,676,34,9,"cleanup"],[1,682,35,4,"this"],[1,688,35,9,"cleanup"],[1,690,35,20,"setup"],[1,692,35,27,"focused"],[1,696,36,29],[1,714,36,17,"focused"],[1,716,37,8,"this"],[1,721,37,13,"setFocused"],[1,732,37,24,"focused"],[1,735,39,8,"this"],[1,740,39,13,"onFocus"],[1,751,42,2],[1,752,43,2,"setFocused"],[1,763,43,13,"focused"],[1,766,44,20,"this"],[1,772,44,25,"focused"],[1,776,44,38,"focused"],[1,780,46,6,"this"],[1,786,46,11,"focused"],[1,788,46,22,"focused"],[1,790,47,6,"this"],[1,795,47,11,"onFocus"],[1,805,49,2],[1,806,50,2,"onFocus"],[1,816,51,4],[1,822,51,10,"isFocused"],[1,824,51,22,"this"],[1,829,51,27,"isFocused"],[1,841,52,4,"this"],[1,846,52,9,"listeners"],[1,856,52,19,"forEach"],[1,864,52,28,"listener"],[1,868,53,6,"listener"],[1,870,53,15,"isFocused"],[1,874,55,2],[1,875,56,2,"isFocused"],[1,887,57,4],[1,893,57,33],[1,911,57,15,"this"],[1,917,57,20,"focused"],[1,919,58,13,"this"],[1,925,58,18,"focused"],[1,927,60,52],[1,938,60,11,"globalThis"],[1,949,60,22,"document"],[1,959,60,32,"visibilityState"],[1,974,61,2],[1,977,63,4,"focusManager"],[1,979,63,19],[1,983,63,23,"FocusManager"],[1,984,63,38],[1,987]],"functionMap":{"names":["<global>","FocusManager","FocusManager#constructor","<anonymous>","listener","FocusManager#onSubscribe","FocusManager#onUnsubscribe","FocusManager#setEventListener","setup$argument_0","FocusManager#setFocused","FocusManager#onFocus","listeners.forEach$argument_0","FocusManager#isFocused"],"mappings":"AAA;mBCG;ECI;kBCE;yBCE,eD;KDO;GDC;EIC;GJI;EKC;GLK;EMC;0BCG;KDM;GNC;EQC;GRM;ESC;2BCE;KDE;GTC;EWC;GXK;CDC"},"hasCjsExports":false},"type":"js/module"}]}