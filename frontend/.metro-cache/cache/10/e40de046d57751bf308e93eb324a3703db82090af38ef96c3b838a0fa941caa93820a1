{"dependencies":[{"name":"./subscribable.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":24},"end":{"line":2,"column":49,"index":73}}],"key":"f0fxTGZggQRtb//cHMvH9AHIWOw=","exportNames":["*"],"imports":1}},{"name":"./utils.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":74},"end":{"line":3,"column":38,"index":112}}],"key":"NIaSEHO1E48gsZc7jH9Ex1xTHgE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){\"use strict\";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,\"OnlineManager\",{enumerable:!0,get:function(){return s}}),Object.defineProperty(e,\"onlineManager\",{enumerable:!0,get:function(){return o}});var n=r(d[0]),t=r(d[1]),s=class extends n.Subscribable{#e=!0;#n;#t;constructor(){super(),this.#t=n=>{if(!t.isServer&&window.addEventListener){const t=()=>n(!0),s=()=>n(!1);return window.addEventListener(\"online\",t,!1),window.addEventListener(\"offline\",s,!1),()=>{window.removeEventListener(\"online\",t),window.removeEventListener(\"offline\",s)}}}}onSubscribe(){this.#n||this.setEventListener(this.#t)}onUnsubscribe(){this.hasListeners()||(this.#n?.(),this.#n=void 0)}setEventListener(n){this.#t=n,this.#n?.(),this.#n=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},o=new s});","lineCount":1,"map":[[1,90,54,0,"Object"],[1,97,54,0,"defineProperty"],[1,112,54,0,"e"],[1,114,54,0],[1,131,54,0,"enumerable"],[1,143,54,0],[1,145,54,0,"get"],[1,149,54,0],[1,167,55,2,"OnlineManager"],[1,168,55,15],[1,172,54,0,"Object"],[1,179,54,0,"defineProperty"],[1,194,54,0,"e"],[1,196,54,0],[1,213,54,0,"enumerable"],[1,225,54,0],[1,227,54,0,"get"],[1,231,54,0],[1,249,56,2,"onlineManager"],[1,250,56,15],[1,254,2,0],[1,258,2,0,"_subscribableJs"],[1,260,2,0,"r"],[1,262,2,0,"d"],[1,264,2,0],[1,268,3,0,"_utilsJs"],[1,270,3,0,"r"],[1,272,3,0,"d"],[1,274,3,0],[1,278,4,4,"OnlineManager"],[1,280,4,20],[1,294,4,34,"Subscribable"],[1,296,4,46,"Subscribable"],[1,309,5,2,"online"],[1,313,5,12],[1,315,6,2,"cleanup"],[1,318,7,2,"setup"],[1,321,8,2,"constructor"],[1,335,9,4,"super"],[1,343,10,4,"this"],[1,349,10,9,"setup"],[1,351,10,19,"onOnline"],[1,355,11,6],[1,359,11,11,"isServer"],[1,361,11,19,"isServer"],[1,371,11,23,"window"],[1,378,11,30,"addEventListener"],[1,395,11,48],[1,396,12,8],[1,402,12,14,"onlineListener"],[1,404,12,31,"onlineListener"],[1,408,12,37,"onOnline"],[1,411,12,46],[1,414,13,14,"offlineListener"],[1,416,13,32,"offlineListener"],[1,420,13,38,"onOnline"],[1,423,13,47],[1,426,16,8],[1,433,14,8,"window"],[1,440,14,15,"addEventListener"],[1,457,14,32],[1,466,14,42,"onlineListener"],[1,469,14,58],[1,472,15,8,"window"],[1,479,15,15,"addEventListener"],[1,496,15,32],[1,506,15,43,"offlineListener"],[1,509,15,60],[1,512,16,15],[1,517,17,10,"window"],[1,524,17,17,"removeEventListener"],[1,544,17,37],[1,553,17,47,"onlineListener"],[1,556,18,10,"window"],[1,563,18,17,"removeEventListener"],[1,583,18,37],[1,593,18,48,"offlineListener"],[1,596,20,6],[1,598,23,2],[1,599,24,2,"onSubscribe"],[1,613,25,9,"this"],[1,619,25,14,"cleanup"],[1,622,26,6,"this"],[1,627,26,11,"setEventListener"],[1,644,26,28,"this"],[1,650,26,33,"setup"],[1,652,28,2],[1,653,29,2,"onUnsubscribe"],[1,669,30,9,"this"],[1,674,30,14,"hasListeners"],[1,691,31,6,"this"],[1,697,31,11,"cleanup"],[1,703,32,6,"this"],[1,709,32,11,"cleanup"],[1,716,32,19,"undefined"],[1,718,34,2],[1,719,35,2,"setEventListener"],[1,736,35,19,"setup"],[1,739,36,4,"this"],[1,745,36,9,"setup"],[1,747,36,18,"setup"],[1,749,37,4,"this"],[1,755,37,9,"cleanup"],[1,761,38,4,"this"],[1,767,38,9,"cleanup"],[1,769,38,20,"setup"],[1,771,38,26,"this"],[1,776,38,31,"setOnline"],[1,786,38,41,"bind"],[1,791,38,46,"this"],[1,797,39,2],[1,798,40,2,"setOnline"],[1,808,40,12,"online"],[1,811,41,20,"this"],[1,817,41,25,"online"],[1,821,41,37,"online"],[1,825,43,6,"this"],[1,831,43,11,"online"],[1,833,43,21,"online"],[1,835,44,6,"this"],[1,840,44,11,"listeners"],[1,850,44,21,"forEach"],[1,858,44,30,"listener"],[1,862,45,8,"listener"],[1,864,45,17,"online"],[1,869,48,2],[1,870,49,2,"isOnline"],[1,881,50,4],[1,888,50,11,"this"],[1,894,50,16,"online"],[1,895,51,2],[1,898,53,4,"onlineManager"],[1,900,53,20],[1,904,53,24,"OnlineManager"],[1,905,53,40],[1,908]],"functionMap":{"names":["<global>","OnlineManager","OnlineManager#constructor","<anonymous>","onlineListener","offlineListener","OnlineManager#onSubscribe","OnlineManager#onUnsubscribe","OnlineManager#setEventListener","OnlineManager#setOnline","listeners.forEach$argument_0","OnlineManager#isOnline"],"mappings":"AAA;oBCG;ECI;kBCE;+BCE,oBD;gCEC,qBF;KDS;GDC;EKC;GLI;EMC;GNK;EOC;GPI;EQC;6BCI;ODE;GRE;EUC;GVE;CDC"},"hasCjsExports":false},"type":"js/module"}]}